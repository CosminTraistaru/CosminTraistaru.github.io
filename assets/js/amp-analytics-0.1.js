(window.AMP = window.AMP || []).push({n:"amp-analytics", f:(function(AMP) {var process={env:{NODE_ENV:"production"}};var m,aa=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global?global:a}(this);function ba(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(aa.Object.defineProperties){var e=aa.Object.getOwnPropertyDescriptor(b,d);e&&aa.Object.defineProperty(a,d,e)}else a[d]=b[d]}var ca="";
function n(a){var b=a||window,c;if(b.AMP_MODE)c=b.AMP_MODE;else{c=b;if(c.context&&c.context.mode)c=c.context.mode;else{var d=location.originalHash||location.hash,e=Object.create(null);if(d){if(0==d.indexOf("?")||0==d.indexOf("#"))d=d.substr(1);for(var d=d.split("&"),f=0;f<d.length;f++){var g=d[f],k=g.indexOf("="),h;-1!=k?(h=decodeURIComponent(g.substring(0,k)).trim(),g=decodeURIComponent(g.substring(k+1)).trim()):(h=decodeURIComponent(g).trim(),g="");h&&(e[h]=g)}}ca||(ca=c.AMP_CONFIG&&c.AMP_CONFIG.v?
c.AMP_CONFIG.v:"1471285991363");c={localDev:!1,development:!("1"!=e.development&&!c.AMP_DEV_MODE),filter:e.filter,minified:!0,test:!1,log:e.log,version:ca}}c=b.AMP_MODE=c}return c};var da=(new Date).getTime();function ea(a,b,c){this.win=a;this.Ga=b;this.K=this.win.console&&this.win.console.log&&"0"!=n().log?this.Ga({localDev:!1,development:n(void 0).development,filter:n(void 0).filter,minified:!0,test:!1,log:n(void 0).log,version:n(void 0).version}):0;this.W=c||""}
function r(a,b,c,d){if(0!=a.K){var e=a.win.console.log;"ERROR"==c?e=a.win.console.error||e:"INFO"==c?e=a.win.console.info||e:"WARN"==c&&(e=a.win.console.warn||e);d.unshift(Date.now()-da,"["+b+"]");e.apply(a.win.console,d)}}m=ea.prototype;m.isEnabled=function(){return 0!=this.K};m.fine=function(a,b){4<=this.K&&r(this,a,"FINE",Array.prototype.slice.call(arguments,1))};m.info=function(a,b){3<=this.K&&r(this,a,"INFO",Array.prototype.slice.call(arguments,1))};
m.warn=function(a,b){2<=this.K&&r(this,a,"WARN",Array.prototype.slice.call(arguments,1))};m.error=function(a,b){if(1<=this.K)r(this,a,"ERROR",Array.prototype.slice.call(arguments,1));else{var c=fa.apply(null,Array.prototype.slice.call(arguments,1));ga(this,c);this.win.setTimeout(function(){throw c;})}};m.createError=function(a){var b=fa.apply(null,arguments);ga(this,b);return b};
m.assert=function(a,b,c){var d;if(!a){var e=(b||"Assertion failed").split("%s"),f=e.shift(),g=f,k=[];""!=f&&k.push(f);for(f=2;f<arguments.length;f++){var h=arguments[f];h&&h.tagName&&(d=h);var l=e.shift();k.push(h);var q=l.trim();""!=q&&k.push(q);var q=g,p;p=h;p=p instanceof Element?p.tagName.toLowerCase()+(p.id?"#"+p.id:""):p;g=q+(p+l)}f=Error(g);f.fromAssert=!0;f.associatedElement=d;f.messageArray=k;ga(this,f);throw f;}return a};
m.assertEnumValue=function(a,b,c){for(var d in a)if(a[d]==b)return a[d];this.assert(!1,'Unknown %s value: "%s"',c||"enum",b)};function ga(a,b){a.W&&(b.message?-1==b.message.indexOf(a.W)&&(b.message+=a.W):b.message=a.W)}function fa(a){for(var b=null,c="",d=0;d<arguments.length;d++){var e=arguments[d];e instanceof Error&&!b?b=e:(c&&(c+=" "),c+=e)}b?c&&(b.message=c+": "+b.message):b=Error(c);return b}var ha;
function u(){return ha?ha:ha=new ea(window,function(a){var b=parseInt(a.log,10);return a.development||1<=b?4:0},"\u200b\u200b\u200b")}var ia;function v(){return ia?ia:ia=new ea(window,function(a){a=parseInt(a.log,10);return 3<=a?4:2<=a?3:0})};var ja=Object.prototype.toString;function ka(a){return"[object Object]"===ja.call(a)};var la=(window.AMP_CONFIG||{}).cdnUrl||"https://cdn.ampproject.org";function ma(a){var b=".localhost";if(b.length>a.length)return!1;var c=a.length-b.length;return a.indexOf(b,c)==c}function na(a,b,c){for(var d=c||1,e={},f=0;f<d&&(e.matches=0,a=a.replace(/\${([^}]*)}/g,function(a){return function(c,d){a.matches++;return b(d)}}(e)),e.matches);e={matches:e.matches},f++);return a};var w,oa,pa=/[?&]amp_js[^&]*/;
function x(a){w||(w=window.document.createElement("a"),oa=window.UrlCache||(window.UrlCache=Object.create(null)));var b=oa[a];if(b)return b;w.href=a;w.protocol||(w.href=w.href);var c={href:w.href,protocol:w.protocol,host:w.host,hostname:w.hostname,port:"0"==w.port?"":w.port,pathname:w.pathname,search:w.search,hash:w.hash,origin:null};"/"!==c.pathname[0]&&(c.pathname="/"+c.pathname);if("http:"==c.protocol&&80==c.port||"https:"==c.protocol&&443==c.port)c.port="",c.host=c.hostname;c.origin=w.origin&&
"null"!=w.origin?w.origin:"data:"!=c.protocol&&c.host?c.protocol+"//"+c.host:c.href;return oa[a]=c}function qa(a,b){var c;if(!b)return a;var d=a.split("#",2),e=d[0].split("?",2),f=e[0]+(e[1]?c?"?"+b+"&"+e[1]:"?"+e[1]+"&"+b:"?"+b);return f+=d[1]?"#"+d[1]:""}function ra(a,b){var c=Object.keys(b).reduce(function(a,c){return a+("&"+encodeURIComponent(c)+"="+encodeURIComponent(b[c]))},"");return qa(a,c.substring(1))}
function sa(a){var b,c;c=void 0===c?"source":c;u().assert(null!=a,"%s %s must be available",b,c);var d=x(a);u().assert("https:"==d.protocol||/^(\/\/)/.test(a)||"localhost"==d.hostname||ma(d.hostname),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,c,a)}function ta(a){"string"==typeof a&&(a=x(a));var b=a.pathname.split("/")[1];return a.origin==la||0==a.origin.indexOf("http://localhost:")&&("c"==b||"v"==b)}
function ua(a){"string"==typeof a&&(a=x(a));if(!ta(a))return a.href;var b=a.pathname.split("/"),c=b[1];u().assert("c"==c||"v"==c,"Unknown path prefix in url %s",a.href);var d=b[2],e="s"==d?"https://"+decodeURIComponent(b[3]):"http://"+decodeURIComponent(d);u().assert(0<e.indexOf("."),"Expected a . in origin %s",e);b.splice(1,"s"==d?3:2);b=e+b.join("/");c=(c=a.search)&&"?"!=c?(c=c.replace(pa,"").replace(/^[?&]/,""))?"?"+c:"":"";return b+c+(a.hash||"")};function va(a,b,c){if(b(a))c();else{var d=a.ownerDocument.defaultView;if(d.MutationObserver){var e=new d.MutationObserver(function(){b(a)&&(e.disconnect(),c())});e.observe(a,{childList:!0})}else var f=d.setInterval(function(){b(a)&&(d.clearInterval(f),c())},5)}}function wa(a,b){va(a.documentElement,function(){return!!a.body},b)}function xa(a){return new Promise(function(b){wa(a,b)})}
function ya(a){var b=null,c=za,d=b||function(a){return a},e=a.dataset;a=Object.create(null);var c=c?c:/^param(.+)/,f;for(f in e){var g=f.match(c);if(g){var k=g[1][0].toLowerCase()+g[1].substr(1);a[d(k)]=e[f]}}return a};function Aa(a,b){return Ba(a,a,"storage",b?b:void 0)}function y(a,b,c){return Ba(a,a,b,void 0,c)}function Ba(a,b,c,d,e){var f=Ca(a),g=f[c];g||(g=f[c]={obj:null,promise:null,resolve:null});g.obj||(g.obj=e?new e(b):d(b),g.resolve&&g.resolve(g.obj));return g.obj}function Da(a,b){var c=Ea(a,b);if(c)return c;a=Ca(a);var d,e=new Promise(function(a){d=a});a[b]={obj:null,promise:e,resolve:d};return e}
function Ea(a,b){if(a=Ca(a)[b]){if(b=a.promise)return b;if(a.obj)return a.promise=Promise.resolve(a.obj)}return null}function Ca(a){var b=a.services;b||(b=a.services={});return b};function Fa(a,b,c){return Ga(a,b,c).then(function(a){return u().assert(a,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.",b,c,c,c)})}function Ga(a,b,c){var d=Ea(a,b);return d?d:Promise.resolve().then(function(){return a.ampExtendedElements[c]?Da(a,b):xa(a.document).then(function(){return a.ampExtendedElements[c]?Da(a,b):null})})};function z(a){return a.services.viewer.obj};function Ha(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++){var d=a.charCodeAt(c);b[c]=d}return b};function Ia(a,b){var c;a:{try{c=a.document.cookie;break a}catch(k){}c=void 0}var d=c;if(!d)return null;var e=d.split(";");for(a=0;a<e.length;a++){var f=e[a].trim(),g=f.indexOf("=");if(-1!=g&&decodeURIComponent(f.substring(0,g).trim())==b)return decodeURIComponent(f.substring(g+1).trim())}return null}
function Ja(a,b,c,d,e){"ampproject.org"==e&&(c="delete",d=0);b=encodeURIComponent(b)+"="+encodeURIComponent(c)+"; path=/"+(e?"; domain="+e:"")+"; expires="+(new Date(d)).toUTCString();try{a.document.cookie=b}catch(f){}};function Ka(a){var b=Object.create(null),c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];b[c]=ka(d)?Ka(d):d}return b};function B(){this.N=[]}B.prototype.add=function(a){var b=this;this.N.push(a);return function(){b.remove(a)}};B.prototype.remove=function(a){a=this.N.indexOf(a);-1<a&&this.N.splice(a,1)};B.prototype.fire=function(a){for(var b=this.N,c=0;c<b.length;c++)(0,b[c])(a)};B.prototype.getHandlerCount=function(){return this.N.length};function La(a){this.win=a;this.La=Promise.resolve();this.Oa=0;this.Y={};this.da=Date.now()}m=La.prototype;m.timeSinceStart=function(){return Date.now()-this.da};m.delay=function(a,b){var c=this;if(!b){var d="p"+this.Oa++;this.La.then(function(){c.Y[d]?delete c.Y[d]:a()});return d}return this.win.setTimeout(a,b)};m.cancel=function(a){"string"==typeof a?this.Y[a]=!0:this.win.clearTimeout(a)};
m.promise=function(a,b){var c=this,d=null;return(new Promise(function(e,f){d=c.delay(function(){d=-1;e(b)},a);-1==d&&f(Error("Failed to schedule timer."))})).catch(function(a){-1!=d&&c.cancel(d);throw a;})};m.timeoutPromise=function(a,b,c){var d=this,e=null,f=(new Promise(function(b,f){e=d.delay(function(){e=-1;f(u().createError(c||"timeout"))},a);-1==e&&f(Error("Failed to schedule timer."))})).catch(function(a){-1!=e&&d.cancel(e);throw a;});return b?Promise.race([f,b]):f};
function C(a){return y(a,"timer",La)};function Ma(a,b,c){var d,e=d||!1;a.addEventListener(b,c,e);return function(){a&&a.removeEventListener(b,c,e);a=c=null}}function Na(a,b,c){function d(a){c(a);e()}var e;e=function(){a&&a.removeEventListener(b,d,!1);c=d=a=null};a.addEventListener(b,d,!1);return e}
function Oa(a){var b,c;if(a.complete||"complete"==a.readyState)return Promise.resolve(a);var d=new Promise(function(d,f){b="AUDIO"===a.tagName||"VIDEO"===a.tagName?Na(a,"loadstart",d):Na(a,"load",d);c=Na(a,"error",f)}),d=d.then(Pa,Qa);return Ra(d,b,c)}function Pa(a){return a.target||a.testTarget}function Qa(a){throw u().createError("Failed HTTP request for %s.",a.target);}function Ra(a,b,c){var d=void 0,e;e=void 0===d?a:C(window).timeoutPromise(d||0,a);b&&e.then(b,b);c&&e.then(c,c);return e};function Sa(a,b){var c=0;"active"===a.type&&(c=5);return Math.min(b-a.time,c)}function Ta(){this.fa=0;this.G=void 0}Ta.prototype.push=function(a){this.G||(this.G=a);this.G.time<a.time&&(this.fa+=Sa(this.G,a.time),this.G=a)};Ta.prototype.getTotalEngagedTime=function(a){var b=0;void 0!==this.G&&(b=this.fa+Sa(this.G,a));return b};var Ua=["mousedown","mouseup","mousemove","keydown","keyup"];
function Va(a){this.B=a;this.Aa=this.Na.bind(this);this.ka=this.aa.bind(this);this.Pa=this.qa.bind(this);this.za=this.Fa.bind(this);this.P=[];this.S=this.R=!1;this.ga=new Ta;this.A=z(this.B);this.F=this.B.services.viewport.obj;this.A.whenFirstVisible().then(this.ea.bind(this))}m=Va.prototype;m.ea=function(){this.da=Date.now();this.aa();for(var a=0;a<Ua.length;a++)this.P.push(Ma(this.B.document,Ua[a],this.ka));this.P.push(this.A.onVisibilityChanged(this.za));this.F.onScroll(this.ka)};
function Wa(a){var b=Date.now()-a.da;return 0<b?b:0}m.Na=function(){this.S=this.R=!1};m.aa=function(){this.R||(this.R=!0,this.S=!1,Xa(this,"active"))};m.qa=function(){this.S||(this.S=!0,this.R=!1,Xa(this,"inactive"))};function Xa(a,b){var c=Wa(a),d=Math.floor(c/1E3),e=1E3-c%1E3;setTimeout(a.Aa,e);a.ga.push({type:b,time:d})}m.Fa=function(){this.A.isVisible()?this.aa():this.qa()};m.Qa=function(){for(var a=0;a<this.P.length;a++){var b=this.P[a];"function"===typeof b&&b()}this.P=[]};
m.getTotalEngagedTime=function(){var a=Math.floor(Wa(this)/1E3);return this.ga.getTotalEngagedTime(a)};var D={"default":{transport:{beacon:!0,xhrpost:!0,image:!0},vars:{accessReaderId:"ACCESS_READER_ID",ampdocHost:"AMPDOC_HOST",ampdocUrl:"AMPDOC_URL",ampVersion:"AMP_VERSION",authdata:"AUTHDATA",availableScreenHeight:"AVAILABLE_SCREEN_HEIGHT",availableScreenWidth:"AVAILABLE_SCREEN_WIDTH",browserLanguage:"BROWSER_LANGUAGE",canonicalHost:"CANONICAL_HOST",canonicalPath:"CANONICAL_PATH",canonicalUrl:"CANONICAL_URL",clientId:"CLIENT_ID",contentLoadTime:"CONTENT_LOAD_TIME",documentCharset:"DOCUMENT_CHARSET",
documentReferrer:"DOCUMENT_REFERRER",domainLookupTime:"DOMAIN_LOOKUP_TIME",domInteractiveTime:"DOM_INTERACTIVE_TIME",navRedirectCount:"NAV_REDIRECT_COUNT",navTiming:"NAV_TIMING",navType:"NAV_TYPE",pageDownloadTime:"PAGE_DOWNLOAD_TIME",pageLoadTime:"PAGE_LOAD_TIME",pageViewId:"PAGE_VIEW_ID",queryParam:"QUERY_PARAM",random:"RANDOM",redirectTime:"REDIRECT_TIME",screenColorDepth:"SCREEN_COLOR_DEPTH",screenHeight:"SCREEN_HEIGHT",screenWidth:"SCREEN_WIDTH",scrollHeight:"SCROLL_HEIGHT",scrollLeft:"SCROLL_LEFT",
scrollTop:"SCROLL_TOP",scrollWidth:"SCROLL_WIDTH",serverResponseTime:"SERVER_RESPONSE_TIME",sourceUrl:"SOURCE_URL",sourceHost:"SOURCE_HOST",sourcePath:"SOURCE_PATH",tcpConnectTime:"TCP_CONNECT_TIME",timestamp:"TIMESTAMP",timezone:"TIMEZONE",title:"TITLE",totalEngagedTime:"TOTAL_ENGAGED_TIME",viewer:"VIEWER",viewportHeight:"VIEWPORT_HEIGHT",viewportWidth:"VIEWPORT_WIDTH"}},atinternet:{transport:{beacon:!1,xhrpost:!1,image:!0},requests:{base:"https://${log}${domain}/hit.xiti?s=${site}&ts=${timestamp}&r=${screenWidth}x${screenHeight}x${screenColorDepth}&re=${availableScreenWidth}x${availableScreenHeight}",
suffix:"&medium=amp&${extraUrlParams}&ref=${documentReferrer}",pageview:"${base}&p=${title}&s2=${level2}${suffix}",click:"${base}&pclick=${title}&s2click=${level2}&p=${label}&s2=${level2Click}&type=click&click=${type}${suffix}"}},burt:{vars:{trackingKey:"ignore",category:"",subCategory:""},requests:{host:"//${trackingKey}.c.richmetrics.com/",base:"${host}imglog?e=${trackingKey}&pi=${trackingKey}|${pageViewId}|${canonicalPath}|${clientId(burt-amp-user-id)}&ui=${clientId(burt-amp-user-id)}&v=amp&ts=${timestamp}&sn=${requestCount}&",
pageview:"${base}type=page&ca=${category}&sc=${subCategory}&ln=${browserLanguage}&lr=${documentReferrer}&eu=${sourceUrl}&tz=${timezone}&pd=${scrollWidth}x${scrollHeight}&sd=${screenWidth}x${screenHeight}&wd=${availableScreenWidth}x${availableScreenHeight}&ws=${scrollLeft}x${scrollTop}",pageping:"${base}type=pageping"},triggers:{pageview:{on:"visible",request:"pageview"},pageping:{on:"timer",timerSpec:{interval:15,"max-timer-length":1200},request:"pageping"}},transport:{beacon:!1,xhrpost:!1,image:!0}},
chartbeat:{requests:{host:"https://ping.chartbeat.net",basePrefix:"/ping?h=${domain}&p=${canonicalPath}&u=${clientId(_cb)}&d=${canonicalHost}&g=${uid}&g0=${sections}&g1=${authors}&g2=${zone}&g3=${sponsorName}&g4=${contentType}&c=120&x=${scrollTop}&y=${scrollHeight}&j=${decayTime}&R=1&W=0&I=0&E=${totalEngagedTime}&r=${documentReferrer}&t=${pageViewId}${clientId(_cb)}&b=${pageLoadTime}&i=${title}&T=${timestamp}&tz=${timezone}&C=2",baseSuffix:"&_",interval:"${host}${basePrefix}${baseSuffix}",anchorClick:"${host}${basePrefix}${baseSuffix}"},
triggers:{trackInterval:{on:"timer",timerSpec:{interval:15,maxTimerLength:7200},request:"interval",vars:{decayTime:30}},trackAnchorClick:{on:"click",selector:"a",request:"anchorClick",vars:{decayTime:30}}},transport:{beacon:!1,xhrpost:!1,image:!0}},clicky:{vars:{site_id:""},requests:{base:"https://in.getclicky.com/in.php?site_id=${site_id}",baseSuffix:"&mime=${contentType}&x=${random}",pageview:"${base}&res=${screenWidth}x${screenHeight}&lang=${browserLanguage}&secure=1&type=pageview&href=${canonicalPath}&title=${title}${baseSuffix}",
interval:"${base}&type=ping${baseSuffix}"},triggers:{defaultPageview:{on:"visible",request:"pageview"},interval:{on:"timer",timerSpec:{interval:60,maxTimerLength:600},request:"interval"}},transport:{beacon:!1,xhrpost:!0,image:!0}},colanalytics:{requests:{host:"https://ase.clmbtech.com",base:"${host}/message",pageview:"${base}?cid=${id}&val_101=${id}&val_101=${canonicalPath}&ch=${canonicalHost}&uuid=${uid}&au=${authors}&zo=${zone}&sn=${sponsorName}&ct=${contentType}&st=${scrollTop}&sh=${scrollHeight}&dct=${decayTime}&tet=${totalEngagedTime}&dr=${documentReferrer}&plt=${pageLoadTime}&val_108=${title}&val_120=3"},
triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},comscore:{vars:{c2:"1000001"},requests:{host:"https://sb.scorecardresearch.com",base:"${host}/b?",pageview:"${base}c1=2&c2=${c2}&rn=${random}&c8=${title}&c7=${canonicalUrl}&c9=${documentReferrer}&cs_c7amp=${ampdocUrl}"},triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},cxense:{requests:{host:"https://scomcluster.cxense.com",base:"${host}/Repo/rep.gif",
pageview:"${base}?ver=1&typ=pgv&sid=${siteId}&ckp=${clientId(cX_P)}&loc=${sourceUrl}&rnd=${random}&ref=${documentReferrer}&ltm=${timestamp}&wsz=${screenWidth}x${screenHeight}&bln=${browserLanguage}&chs=${documentCharset}&col=${screenColorDepth}&tzo=${timezone}"},triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},googleanalytics:{vars:{eventValue:"0",documentLocation:"SOURCE_URL",clientId:"CLIENT_ID(AMP_ECID_GOOGLE)",dataSource:"AMP"},requests:{host:"https://www.google-analytics.com",
basePrefix:"v=1&_v=a1&ds=${dataSource}&aip=true&_s=${requestCount}&dt=${title}&sr=${screenWidth}x${screenHeight}&_utmht=${timestamp}&jid=&cid=${clientId}&tid=${account}&dl=${documentLocation}&dr=${documentReferrer}&sd=${screenColorDepth}&ul=${browserLanguage}&de=${documentCharset}",baseSuffix:"&a=${pageViewId}&z=${random}",pageview:"${host}/r/collect?${basePrefix}&t=pageview&_r=1${baseSuffix}",event:"${host}/collect?${basePrefix}&t=event&ec=${eventCategory}&ea=${eventAction}&el=${eventLabel}&ev=${eventValue}${baseSuffix}",
social:"${host}/collect?${basePrefix}&t=social&sa=${socialAction}&sn=${socialNetwork}&st=${socialTarget}${baseSuffix}",timing:"${host}/collect?${basePrefix}&t=timing&plt=${pageLoadTime}&dns=${domainLookupTime}&tcp=${tcpConnectTime}&rrt=${redirectTime}&srt=${serverResponseTime}&pdt=${pageDownloadTime}&clt=${contentLoadTime}&dit=${domInteractiveTime}${baseSuffix}"},triggers:{performanceTiming:{on:"visible",request:"timing",sampleSpec:{sampleOn:"${clientId}",threshold:1}}},extraUrlParamsReplaceMap:{dimension:"cd",
metric:"cm"},optout:"_gaUserPrefs.ioo"},krux:{requests:{beaconHost:"https://beacon.krxd.net",timing:"t_navigation_type=0&t_dns=${domainLookupTime}&t_tcp=${tcpConnectTime}&t_http_request=${serverResponseTime}&t_http_response=${pageDownloadTime}&t_content_ready=${contentLoadTime}&t_window_load=${pageLoadTime}&t_redirect=${redirectTime}",common:"source=amp&confid=${confid}&_kpid=${pubid}&_kcp_s=${site}&_kcp_sc=${section}&_kcp_ssc=${subsection}&_kcp_d=${canonicalHost}&_kpref_=${documentReferrer}&_kua_kx_amp_client_id=${clientId(_kuid_)}&_kua_kx_lang=${browserLanguage}&_kua_kx_tech_browser_language=${browserLanguage}&_kua_kx_tz=${timezone}",
pageview:"${beaconHost}/pixel.gif?${common}&${timing}",event:"${beaconHost}/event.gif?${common}&${timing}&pageview=false"},transport:{beacon:!1,xhrpost:!1,image:!0},extraUrlParamsReplaceMap:{"user.":"_kua_","page.":"_kpa_"}},lotame:{requests:{pageview:"https://bcp.crwdcntrl.net/amp?c=${account}&pv=y"},triggers:{"track pageview":{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},mediametrie:{requests:{host:"https://prof.estat.com/m/web",pageview:"${host}/${serial}?c=${level1}&dom=${ampdocUrl}&enc=${documentCharset}&l3=${level3}&l4=${level4}&n=${random}&p=${level2}&r=${documentReferrer}&sch=${screenHeight}&scw=${screenWidth}&tn=amp&v=1&vh=${availableScreenHeight}&vw=${availableScreenWidth}"},
triggers:{trackPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},mparticle:{vars:{eventType:"Unknown",debug:!1,amp_clientId:"CLIENT_ID(mparticle_amp_id)"},requests:{host:"https://pixels.mparticle.com",endpointPath:"/v1/${apiKey}/Pixel",baseParams:"et=${eventType}&amp_id=${amp_clientId}&attrs_k=${eventAttributes_Keys}&attrs_v=${eventAttributes_Values}&ua_k=${userAttributes_Keys}&ua_v=${userAttributes_Values}&ui_t=${userIdentities_Types}&ui_v=${userIdentities_Values}&flags_k=${customFlags_Keys}&flags_v=${customFlags_Values}&ct=${timestamp}&dbg=${debug}&lc=${location}&av=${appVersion}",
pageview:"${host}${endpointPath}?dt=ScreenView&n=${canonicalPath}&hn=${ampdocUrl}&ttl=${title}&${baseParams}",event:"${host}${endpointPath}?dt=AppEvent&n=${eventName}&${baseParams}"},transport:{beacon:!1,xhrpost:!1,image:!0}},oewadirect:{transport:{beacon:!1,xhrpost:!1,image:!0},requests:{pageview:"https://${s}.oewabox.at/j0=,,,r=${canonicalUrl};+,amp=1+cp=${cp}+ssl=1+hn=${canonicalHost};;;?lt=${pageViewId}&x=${screenWidth}x${screenHeight}x24&c=CLIENT_ID(oewa)"},triggers:{pageview:{on:"visible",request:"pageview"}}},
oewa:{transport:{beacon:!1,xhrpost:!1,image:!0},requests:{pageview:"${url}?s=${s}&amp=1&cp=${cp}&host=${canonicalHost}&path=${canonicalPath}"},triggers:{pageview:{on:"visible",request:"pageview"}}},parsely:{requests:{host:"https://srv.pixel.parsely.com",basePrefix:"${host}/plogger/?rand=${timestamp}&idsite=${apikey}&url=${ampdocUrl}&urlref=${documentReferrer}&screen=${screenWidth}x${screenHeight}%7C${availableScreenWidth}x${availableScreenHeight}%7C${screenColorDepth}&title=${title}&date=${timestamp}&ampid=${clientId(_parsely_visitor)}",
pageview:"${basePrefix}&action=pageview"},triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},piano:{requests:{host:"https://api-v3.tinypass.com",basePrefix:"/api/v3",baseSuffix:"&pageview_id=${pageViewId}&rand=${random}&amp_client_id=${clientId}&aid=${aid}",pageview:"${host}${basePrefix}/page/track?url=${canonicalUrl}&referer=${documentReferrer}&content_created=${contentCreated}&content_author=${contentAuthor}&content_section=${contentSection}&timezone_offset=${timezone}&tags=${tags}&amp_url=${ampdocUrl}&screen=${screenWidth}x${screenHeight}${baseSuffix}"}},
quantcast:{vars:{labels:""},requests:{host:"https://pixel.quantserve.com/pixel",pageview:"${host};r=${random};a=${pcode};labels=${labels};fpan=;fpa=${clientId(__qca)};ns=0;ce=1;cm=;je=0;sr=${screenWidth}x${screenHeight}x${screenColorDepth};enc=n;et=${timestamp};ref=${documentReferrer};url=${canonicalUrl}"},triggers:{defaultPageview:{on:"visible",request:"pageview"}},transport:{beacon:!1,xhrpost:!1,image:!0}},adobeanalytics:{transport:{xhrpost:!1,beacon:!1,image:!0},vars:{pageName:"TITLE",host:"",
reportSuites:"",linkType:"o",linkUrl:"",linkName:""},requests:{requestPath:"/b/ss/${reportSuites}/0/amp-1.0/s${random}",basePrefix:"vid=z${clientId(adobe_amp_id)}&ndh=0&ce=${documentCharset}&pageName=${pageName}&g=${ampdocUrl}&r=${documentReferrer}&bh=${availableScreenHeight}&bw=${availableScreenWidth}&c=${screenColorDepth}&j=amp&s=${screenWidth}x${screenHeight}",pageview:"https://${host}${requestPath}?${basePrefix}",click:"https://${host}${requestPath}?${basePrefix}&pe=lnk_${linkType}&pev1=${linkUrl}&pev2=${linkName}"}},
adobeanalytics_nativeConfig:{triggers:{pageLoad:{on:"visible",request:"iframeMessage"}}},infonline:{vars:{sv:"ke",ap:"1"},transport:{beacon:!1,xhrpost:!1,image:!0},requests:{pageview:"${url}?st=${st}&sv=${sv}&ap=${ap}&co=${co}&cp=${cp}&host=${canonicalHost}&path=${canonicalPath}"},triggers:{pageview:{on:"visible",request:"pageview"}}},simplereach:{vars:{pid:"",published_at:"",authors:[],channels:[],tags:[]},requests:{host:"https://edge.simplereach.com",baseParams:"amp=true&pid=${pid}&title=${title}&url=${canonicalUrl}&date=${published_at}&authors=${authors}&channels=${categories}&tags=${tags}&referrer=${documentReferrer}&page_url=${sourceUrl}&user_id=${clientId(sr_amp_id)}&domain=${canonicalHost}",
visible:"${host}/n?${baseParams}",timer:"${host}/t?${baseParams}&t=5000&e=5000"},triggers:{visible:{on:"visible",request:"visible"},timer:{on:"timer",timerSpec:{interval:5,"max-timer-length":1200},request:"timer"}}},segment:{transport:{beacon:!1,xhrpost:!1,image:!0},vars:{anonymousId:"CLIENT_ID(segment_amp_id)"},requests:{host:"https://api.segment.io/v1/pixel",base:"?writeKey=${writeKey}&anonymousId=${anonymousId}&context.locale=${browserLanguage}&context.page.path=${canonicalPath}&context.page.url=${canonicalUrl}&context.page.referrer=${documentReferrer}&context.page.title=${title}&context.screen.width=${screenWidth}&context.screen.height=${screenHeight}",
page:"${host}/page${base}&name=${name}",track:"${host}/track${base}&event=${event}"},triggers:{page:{on:"visible",request:"page"}}},snowplow:{requests:{aaVersion:"amp-0.1",basePrefix:"https://${collectorHost}/i?url=${canonicalUrl}&page=${title}&res=${screenWidth}x${screenHeight}&stm=${timestamp}&tz=${timezone}&aid=${appId}&p=web&tv=${aaVersion}",pageView:"${basePrefix}&e=pv",structEvent:"${basePrefix}&e=se&se_ca=${structEventCategory}&se_ac=${structEventAction}&se_la=${structEventLabel}&se_pr=${structEventProperty}&se_va=${structEventValue}"},
transport:{beacon:!1,xhrpost:!1,image:!0}},webtrekk:{requests:{trackURL:"https://${trackDomain}/${trackId}/wt",parameterPrefix:"?p=432,${contentId},1,${screenWidth}x${screenHeight},${screenColorDepth},1,${timestamp},${documentReferrer},${viewportWidth}x${viewportHeight},0&tz=${timezone}&eid=${clientId(amp-wt3-eid)}&la=${browserLanguage}",parameterSuffix:"&pu=${canonicalUrl}",pageParameter:"&cp1=${pageParameter1}&cp2=${pageParameter2}&cp3=${pageParameter3}&cp4=${pageParameter4}&cp5=${pageParameter5}&cp6=${pageParameter6}&cp7=${pageParameter7}&cp8=${pageParameter8}&cp9=${pageParameter9}&cp10=${pageParameter10}",
pageCategories:"&cg1=${pageCategory1}&cg2=${pageCategory2}&cg3=${pageCategory3}&cg4=${pageCategory4}&cg5=${pageCategory5}&cg6=${pageCategory6}&cg7=${pageCategory7}&cg8=${pageCategory8}&cg9=${pageCategory9}&cg10=${pageCategory10}",pageview:"${trackURL}${parameterPrefix}${pageParameter}${pageCategories}${parameterSuffix}",actionParameter:"&ck1=${actionParameter1}&ck2=${actionParameter2}&ck3=${actionParameter3}&ck4=${actionParameter4}&ck5=${actionParameter5}",event:"${trackURL}${parameterPrefix}&ct=${actionName}${actionParameter}${parameterSuffix}"},
transport:{beacon:!1,xhrpost:!1,image:!0}},mpulse:{requests:{onvisible:"https://${beacon_url}?h.d=${h.d}&h.key=${h.key}&h.t=${h.t}&h.cr=${h.cr}&rt.start=navigation&rt.si=${clientId(amp_mpulse)}&rt.ss=${timestamp}&rt.end=${timestamp}&t_resp=${navTiming(navigationStart,responseStart)}&t_page=${navTiming(responseStart,loadEventStart)}&t_done=${navTiming(navigationStart,loadEventStart)}&nt_nav_type=${navType}&nt_red_cnt=${navRedirectCount}&nt_nav_st=${navTiming(navigationStart)}&nt_red_st=${navTiming(redirectStart)}&nt_red_end=${navTiming(redirectEnd)}&nt_fet_st=${navTiming(fetchStart)}&nt_dns_st=${navTiming(domainLookupStart)}&nt_dns_end=${navTiming(domainLookupEnd)}&nt_con_st=${navTiming(connectStart)}&nt_ssl_st=${navTiming(secureConnectionStart)}&nt_con_end=${navTiming(connectEnd)}&nt_req_st=${navTiming(requestStart)}&nt_res_st=${navTiming(responseStart)}&nt_unload_st=${navTiming(unloadEventStart)}&nt_unload_end=${navTiming(unloadEventEnd)}&nt_domloading=${navTiming(domLoading)}&nt_res_end=${navTiming(responseEnd)}&nt_domint=${navTiming(domInteractive)}&nt_domcontloaded_st=${navTiming(domContentLoadedEventStart)}&nt_domcontloaded_end=${navTiming(domContentLoadedEventEnd)}&nt_domcomp=${navTiming(domComplete)}&nt_load_st=${navTiming(loadEventStart)}&nt_load_end=${navTiming(loadEventEnd)}&v=1&http.initiator=amp&u=${sourceUrl}&amp.u=${ampdocUrl}&r2=${documentReferrer}&scr.xy=${screenWidth}x${screenHeight}"},
triggers:{onvisible:{on:"visible",request:"onvisible"}},transport:{beacon:!1,xhrpost:!1,image:!0},extraUrlParamsReplaceMap:{ab_test:"h.ab",page_group:"h.pg","custom_dimension.":"cdim.","custom_metric.":"cmet."}},linkpulse:{vars:{id:"",pageUrl:"CANONICAL_URL",title:"TITLE",section:"",channel:"amp",type:"",host:"pp.lp4.io",empty:""},requests:{base:"https://${host}",pageview:"${base}/p?i=${id}&r=${documentReferrer}&p=${pageUrl}&s=${section}&t=${type}&c=${channel}&mt=${title}&_t=amp&_r=${random}",pageload:"${base}/pl?i=${id}&ct=${domInteractiveTime}&rt=${pageDownloadTime}&pt=${pageLoadTime}&p=${pageUrl}&c=${channel}&t=${type}&s=${section}&_t=amp&_r=${random}",
ping:"${base}/u?i=${id}&u=${clientId(_lp4_u)}&p=${pageUrl}&uActive=true&isPing=yes&c=${channel}&t=${type}&s=${section}&_t=amp&_r=${random}"},triggers:{pageview:{on:"visible",request:"pageview"},pageload:{on:"visible",request:"pageload"},ping:{on:"timer",timerSpec:{interval:30,maxTimerLength:7200},request:"ping"}},transport:{beacon:!1,xhrpost:!1,image:!0}}};D.infonline.triggers.pageview.iframePing=!0;D.adobeanalytics_nativeConfig.triggers.pageLoad.iframePing=!0;
D.oewa.triggers.pageview.iframePing=!0;function E(a){return void 0===a||0<=Math.sign(a)}function Ya(a){return void 0===a||0<=Math.sign(a)&&100>=a}
function Za(a){if(!a.visibilitySpec)return!0;var b=a.visibilitySpec;if(!b.selector||"#"!=b.selector[0])return u().error("Visibility spec requires an id selector"),!1;var c=b.continuousTimeMax,d=b.continuousTimeMin,e=b.totalTimeMax,f=b.totalTimeMin;return E(d)&&E(c)&&E(f)&&E(e)?c<d||e<f?(u().warn("Max value in timing conditions should be more than the min value."),!1):Ya(b.visiblePercentageMax)&&Ya(b.visiblePercentageMin)?b.visiblePercentageMax<b.visiblePercentageMin?(u().error("visiblePercentageMax should be greater than visiblePercentageMin"),
!1):!0:(u().error("visiblePercentage conditions should be between 0 and 100."),!1):(u().error("Timing conditions should be positive integers when specified."),!1)}function F(a){this.B=a;this.T=Object.create(null);this.M=C(a);this.resources_=[];this.la=this.O.bind(this);this.Ba=this.ya.bind(this);this.xa=this.ua=!1;this.Ma=this.B.services.resources.obj;this.H=null;this.X=Infinity;this.ca=!1;this.A=z(this.B);this.ia=this.ha=!this.A.isVisible()}
function $a(a){if(!a.ua){var b=a.B.services.viewport.obj;b.onScroll(a.la);b.onChanged(a.la);a.ua=!0}}
F.prototype.listenOnce=function(a,b,c){var d=this,e=this.B.document.getElementById(a.selector.slice(1)),e=this.Ma.getResourceForElement(e),f=e.getId();$a(this);this.xa||(this.A.onVisibilityChanged(this.Ba),this.xa=!0,this.ya());this.T[f]=this.T[f]||[];var g={};g.tL=Date.now();this.T[f].push({config:a,callback:b,state:g,shouldBeVisible:c});this.resources_.push(e);null==this.H&&(this.H=this.M.delay(function(){d.O()},20))};
F.prototype.ya=function(){var a=this.A.getVisibilityState();if("hidden"==a||"paused"==a||"inactive"==a)this.ia=!0;this.O()};
F.prototype.O=function(){var a=this;null!=this.H&&(this.M.cancel(this.H),this.H=null);this.timeToWait=Infinity;for(var b=[],c=this.resources_.length-1;0<=c;c--){var d=this.resources_[c];if(d.isLayoutPending())b.push(d.loaded());else{for(var e=d.element.getIntersectionChangeEntry(),f=e.intersectionRect,g=e.boundingClientRect,k=f.width*f.height*100/(g.height*g.width),h=this.T[d.getId()],l=h.length-1;0<=l;l--)d=h[l].shouldBeVisible,ab(this,k,h[l],d)&&this.A.isVisible()==d&&(bb(this,h[l].state,e.rootBounds,
g,f),h[l].callback(h[l].state),h.splice(l,1));0==h.length&&this.resources_.splice(c,1)}}null==this.H&&Infinity>this.X&&0<this.X&&(this.H=this.M.delay(function(){a.O()},this.X));0<b.length&&!this.ca&&(Promise.race(b).then(function(){a.ca=!1;a.O()}),this.ca=!0)};
function ab(a,b,c,d){var e=c.config,f=c.state||{};0<b&&(f.firstSeenTime=f.firstSeenTime||Date.now()-f.tL,f.lastSeenTime=Date.now()-f.tL);var g=f.iV,k=Date.now()-f.lU,h=e.visiblePercentageMin,l=e.visiblePercentageMax;f.iV=void 0===h&&void 0===l||b>(h||0)&&b<=(l||100)?!0:!1;f.iV&&g?cb(f,b,k):!f.iV&&g?(f.maxContinuousVisibleTime=Math.max(f.maxContinuousVisibleTime,f.cT+k),f.lU=-1,f.totalVisibleTime+=k,f.cT=0,f.lastVisibleTime=Date.now()-f.tL):f.iV&&!g&&(f.fistVisibleTime=f.fistVisibleTime||Date.now()-
f.tL,cb(f,b,0));var q=e.continuousTimeMin?e.continuousTimeMin-f.cT:Infinity,p=e.totalTimeMin?e.totalTimeMin-f.totalVisibleTime:Infinity;a.X=Math.min(a.timeToWait,0<q?q:Infinity,0<p?p:Infinity);c.state=f;return(d&&f.iV||!d)&&(void 0===e.totalTimeMin||f.totalVisibleTime>=e.totalTimeMin)&&(void 0===e.totalTimeMax||f.totalVisibleTime<=e.totalTimeMax)&&(void 0===e.continuousTimeMin||f.cT>=e.continuousTimeMin)&&(void 0===e.continuousTimeMax||f.cT<=e.continuousTimeMax)}
function cb(a,b,c){a.lU=Date.now();a.totalVisibleTime=void 0!==a.totalVisibleTime?a.totalVisibleTime+c:0;a.cT=void 0!==a.cT?a.cT+c:0;a.maxContinuousVisibleTime=void 0!==a.maxContinuousVisibleTime?Math.max(a.maxContinuousVisibleTime,a.cT):0;a.minVisiblePercentage=a.minVisiblePercentage?Math.min(a.minVisiblePercentage,b):101;a.maxVisiblePercentage=a.maxVisiblePercentage?Math.max(a.maxVisiblePercentage,b):-1;a.lastVisibleTime=Date.now()-a.tL}
function bb(a,b,c,d,e){var f=a.B.performance;b.elementX=c.left+d.left;b.elementY=c.top+d.top;b.elementWidth=d.width;b.elementHeight=d.height;b.totalTime=f&&f.timing&&f.timing.domInteractive?Date.now()-f.timing.domInteractive:"";var g={top:0,height:c.height,left:0,width:c.width},k={top:e.top,left:e.left,width:d.width,height:d.height};a:{var h=g,l=k;e=Math.max(h.left,l.left);var q=Math.min(h.left+h.width,l.left+l.width);if(e<=q){var p=Math.max(h.top,l.top),h=Math.min(h.top+h.height,l.top+l.height);
if(p<=h){q-=e;h-=p;e={left:e,top:p,width:q,height:h,bottom:p+h,right:e+q};break a}}e=null}var t=e;b.loadTimeVisibility=null!=t?Math.round(t.width*t.height*1E4/(d.width*d.height))/100:0;b.minVisiblePercentage=Math.round(100*b.minVisiblePercentage)/100;b.maxVisiblePercentage=Math.round(100*b.maxVisiblePercentage)/100;b.backgrounded=a.ia?"1":"0";b.backgroundedAtStart=a.ha?"1":"0";delete b.cT;delete b.lU;delete b.iV;delete b.tL;for(var A in b)b.hasOwnProperty(A)&&(b[A]=String(b[A]))};var za=/^vars(.+)/;function G(a,b){this.type=a;this.vars=b||Object.create(null)}function H(a){var b=this;this.B=a;this.C="Analytics.Instrumentation";this.M=C(a);this.A=z(a);this.F=a.services.viewport.obj;this.ma=!1;this.na=new B;this.ta=!1;this.va=new B;this.Z={};this.J={};this.M.delay(function(){b.J=void 0},1E4)}
H.prototype.addListener=function(a,b){var c=a.on;if("visible"===c)db(this,b,a,"visible");else if("click"===c)a.selector?(this.ma||(this.ma=!0,this.B.document.documentElement.addEventListener("click",this.Ia.bind(this))),this.na.add(eb(this,b,a.selector))):u().error(this.C,"Missing required selector on click trigger");else if("scroll"===c)a.scrollSpec?(fb(this,a.scrollSpec,b),a=this.F.getSize(),this.ra({top:this.F.getScrollTop(),left:this.F.getScrollLeft(),width:a.width,height:a.height})):u().error(this.C,
"Missing scrollSpec on scroll trigger.");else if("timer"===c)gb(this,a.timerSpec)&&hb(this,b,a.timerSpec);else if("hidden"===c)db(this,b,a,"hidden");else{var d=this.Z[c];d||(d=new B,this.Z[c]=d);d.add(b);if(this.J){var e=this.J[c];e&&this.M.delay(function(){e.forEach(function(a){b(a)})},1)}}};H.prototype.triggerEvent=function(a){var b=new G(a);if(this.J){var c=this.J[b.type];c||(c=[],this.J[b.type]=c);c.push(b)}(a=this.Z[a])&&a.fire(b)};
function db(a,b,c,d){var e="visible"==d,f=c.visibilitySpec;if(f)Za(c)&&Fa(a.B,"visibility","amp-analytics").then(function(c){c.listenOnce(f,function(c){if(f.selector){var e=ya(a.B.document.getElementById(f.selector.slice(1))),g;for(g in e)c[g]=e[g]}b(new G(d,c))},e)});else if(a.A.isVisible()==e)b(new G(d)),c.called=!0;else a.A.onVisibilityChanged(function(){c.called||a.A.isVisible()!=e||(b(new G(d)),c.called=!0)})}H.prototype.Ia=function(a){this.na.fire(a)};H.prototype.ra=function(a){this.va.fire(a)};
function eb(a,b,c){return function(d){d=d.target;if("*"===c||ib(a,d,c))b(new G("click",ya(d)));else for(;null!=d.parentElement&&"BODY"!=d.parentElement.tagName;)if(d=d.parentElement,ib(a,d,c)){b(new G("click",ya(d)));break}}}
function fb(a,b,c){if(Array.isArray(b.verticalBoundaries)||Array.isArray(b.horizontalBoundaries)){a.ta||(a.ta=!0,a.F.onChanged(a.ra.bind(a)));var d=function(a,b,d){if(b)for(var e in a)if(!(!a.hasOwnProperty(e)||e>b||a[e])){a[e]=!0;var f=Object.create(null);f[d]=e;c(new G("scroll",f))}},e=jb(a,b.verticalBoundaries),f=jb(a,b.horizontalBoundaries);a.va.add(function(b){d(e,100*(b.top+b.height)/a.F.getScrollHeight(),"verticalScrollBoundary");d(f,100*(b.left+b.width)/a.F.getScrollWidth(),"horizontalScrollBoundary")})}else u().error(a.C,
"Boundaries are required for the scroll trigger to work.")}function jb(a,b){var c={};if(!b||!Array.isArray(b))return c;for(var d=0;d<b.length;d++){var e=b[d];if("number"!==typeof e||!isFinite(e)){u().error(a.C,"Scroll trigger boundaries must be finite.");break}e=Math.min(5*Math.round(e/5),100);c[e]=!1}return c}
function ib(a,b,c){try{var d=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector;if(d)return d.call(b,c);for(var e=a.B.document.querySelectorAll(c),f=e.length;0<f--&&e.item(f)!=b;);return-1<f}catch(g){u().error(a.C,"Bad query selector.",c,g)}return!1}
function gb(a,b){if(b){if(b.hasOwnProperty("interval"))return"number"!==typeof b.interval||.5>b.interval?(u().error(a.C,"Bad timer interval specification"),!1):b.hasOwnProperty("maxTimerLength")&&("number"!==typeof b.maxTimerLength||0>=b.maxTimerLength)?(u().error(a.C,"Bad maxTimerLength specification"),!1):!0;u().error(a.C,"Timer interval specification required");return!1}u().error(a.C,"Bad timer specification");return!1}
function hb(a,b,c){var d=a.B.setInterval(b.bind(null,new G("timer")),1E3*c.interval);b(new G("timer"));var e=c.maxTimerLength||7200;a.B.setTimeout(a.B.clearInterval.bind(a.B,d),1E3*e)}function kb(a){return y(a,"amp-analytics-instrumentation",H)};function I(a){return Fa(a,"crypto","amp-analytics")};function nb(a){this.win=a;this.I=null;this.$=Object.create(null)}nb.prototype.get=function(a,b,c){var d=this,e;e="string"==typeof a?{scope:a}:a;u().assert(/^[a-zA-Z0-9-_]+$/.test(e.scope),"The client id name must only use the characters [a-zA-Z0-9-_]+\nInstead found: %s",e.scope);return b.then(function(){return z(d.win).whenFirstVisible()}).then(function(){return ob(d,e,c||b)})};
function ob(a,b,c){var d=x(a.win.location.href);return ta(d)?Promise.all([pb(a,c),I(a.win)]).then(function(a){var c=a[0],g=a[1];return g.sha384Base64(c+qb(d)+b.scope)}):rb(a,b,c)}function sb(a,b,c){var d=Date.now()+31536E6;a:{var e=b,f=d,g={highestAvailableDomain:!0};if(g&&g.highestAvailableDomain)for(var g=a.location.hostname.split("."),k=g[g.length-1],h=g.length-2;0<=h;h--)if(k=g[h]+"."+k,Ja(a,e,c,f,k),Ia(a,e)==c)break a;Ja(a,e,c,f,void 0)}}
function rb(a,b,c){var d=a.win,e=b.scope,f=Ia(d,e);if(!f&&!b.createCookieIfNotPresent)return Promise.resolve(null);if(a.$[e])return a.$[e];if(f)return/^amp-/.test(f)&&sb(d,e,f),Promise.resolve(f);var g=I(d).then(function(a){return a.sha384Base64(tb(d))}).then(function(a){return"amp-"+a});Promise.all([g,c]).then(function(a){var b=a[0],c=Ia(d,e);c||sb(d,e,b)});return a.$[e]=g}function qb(a){u().assert(ta(a),"Expected proxy origin %s",a.origin);return x(ua(a)).origin}
function pb(a,b){if(a.I)return a.I;var c=a.win;return ub(c).then(function(d){var e=!1;d&&!vb(d)?(a.I=Promise.resolve(d.cid),wb(d)&&(e=!0)):(a.I=I(c).then(function(a){return a.sha384Base64(tb(c))}),e=!0);e&&a.I.then(function(a){xb(c,b,a)});return a.I})}function xb(a,b,c){var d=z(a);d.isIframed()?d.baseCid(yb(c)):b.then(function(){try{a.localStorage.setItem("amp-cid",yb(c))}catch(b){}})}function yb(a){return JSON.stringify({time:Date.now(),cid:a})}
function ub(a){var b;try{b=a.localStorage.getItem("amp-cid")}catch(d){}a=z(a);var c=Promise.resolve(b);!b&&a.isIframed()&&(c=a.baseCid());return c.then(function(a){if(!a)return null;a=JSON.parse(a);return{time:a.time,cid:a.cid}})}function vb(a){var b=a.time,c=Date.now();return b+31536E6<c}function wb(a){a=a.time;var b=Date.now();return a+864E5<b}
function tb(a){if(a.crypto&&a.crypto.getRandomValues){var b=new Uint8Array(16);a.crypto.getRandomValues(b);return b}return String(a.location.href+Date.now()+a.Math.random()+a.screen.width+a.screen.height)};var zb=this;function Ab(a,b){a=a.split(".");var c=window||zb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]?c=c[d]:c=c[d]={}:c[d]=b}
function Bb(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function Cb(a,b){function c(){}c.prototype=b.prototype;a.v=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.u=function(a,c,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[c].apply(a,g)}}function J(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)}function K(a,b){this.b=a|0;this.a=b|0}var Db={},L={};
function M(a){return-128<=a&&128>a?J(Db,a,function(a){return new K(a|0,0>a?-1:0)}):new K(a|0,0>a?-1:0)}function N(a){return isNaN(a)?O():a<=-Eb?P():a+1>=Eb?Fb():0>a?Q(N(-a)):new K(a%R|0,a/R|0)}var R=4294967296,Eb=R*R/2;function O(){return J(L,Gb,function(){return M(0)})}function S(){return J(L,Hb,function(){return M(1)})}function Ib(){return J(L,Jb,function(){return M(-1)})}function Fb(){return J(L,Kb,function(){return new K(-1,2147483647)})}
function P(){return J(L,Lb,function(){return new K(0,-2147483648)})}function Mb(){return J(L,Nb,function(){return M(16777216)})}
K.prototype.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(T(this))return"0";if(0>this.a){if(U(this,P())){var b=N(a),c=V(this,b),b=W(X(c,b),Q(this));return c.toString(a)+b.b.toString(a)}return"-"+Q(this).toString(a)}for(var c=N(Math.pow(a,6)),b=this,d="";;){var e=V(b,c),f=(W(b,Q(X(e,c))).b>>>0).toString(a),b=e;if(T(b))return f+d;for(;6>f.length;)f="0"+f;d=""+f+d}};function Ob(a){return 0<=a.b?a.b:R+a.b}function T(a){return 0==a.a&&0==a.b}
function U(a,b){return a.a==b.a&&a.b==b.b}function Pb(a,b){if(U(a,b))return 0;var c=0>a.a,d=0>b.a;return c&&!d?-1:!c&&d?1:0>W(a,Q(b)).a?-1:1}function Q(a){return U(a,P())?P():W(new K(~a.b,~a.a),S())}function W(a,b){var c=a.a>>>16,d=a.a&65535,e=a.b>>>16,f=b.a>>>16,g=b.a&65535,k=b.b>>>16;a=0+((a.b&65535)+(b.b&65535));k=0+(a>>>16)+(e+k);e=0+(k>>>16)+(d+g);return new K((k&65535)<<16|a&65535,(0+(e>>>16)+(c+f)&65535)<<16|e&65535)}
function X(a,b){if(T(a)||T(b))return O();if(U(a,P()))return 1==(b.b&1)?P():O();if(U(b,P()))return 1==(a.b&1)?P():O();if(0>a.a)return 0>b.a?X(Q(a),Q(b)):Q(X(Q(a),b));if(0>b.a)return Q(X(a,Q(b)));if(0>Pb(a,Mb())&&0>Pb(b,Mb()))return N((a.a*R+Ob(a))*(b.a*R+Ob(b)));var c=a.a>>>16,d=a.a&65535,e=a.b>>>16;a=a.b&65535;var f=b.a>>>16,g=b.a&65535,k=b.b>>>16;b=b.b&65535;var h,l,q,p;p=0+a*b;q=0+(p>>>16)+e*b;l=0+(q>>>16);q=(q&65535)+a*k;l=l+(q>>>16)+d*b;h=0+(l>>>16);l=(l&65535)+e*k;h+=l>>>16;l=(l&65535)+a*g;return new K((q&
65535)<<16|p&65535,(h+(l>>>16)+(c*b+d*k+e*g+a*f)&65535)<<16|l&65535)}
function V(a,b){if(T(b))throw Error("division by zero");if(T(a))return O();if(U(a,P())){if(U(b,S())||U(b,Ib()))return P();if(U(b,P()))return S();var c;c=1;if(0==c)c=a;else{var d=a.a;c=32>c?new K(a.b>>>c|d<<32-c,d>>c):new K(d>>c-32,0<=d?0:-1)}c=V(c,b);d=1;if(0!=d){var e=c.b;c=32>d?new K(e<<d,c.a<<d|e>>>32-d):new K(0,e<<d-32)}if(U(c,O()))return 0>b.a?S():Ib();a=W(a,Q(X(b,c)));return W(c,V(a,b))}if(U(b,P()))return O();if(0>a.a)return 0>b.a?V(Q(a),Q(b)):Q(V(Q(a),b));if(0>b.a)return Q(V(a,Q(b)));for(d=
O();0<=Pb(a,b);){c=Math.max(1,Math.floor((a.a*R+Ob(a))/(b.a*R+Ob(b))));for(var e=Math.ceil(Math.log(c)/Math.LN2),e=48>=e?1:Math.pow(2,e-48),f=N(c),g=X(f,b);0>g.a||0<Pb(g,a);)c-=e,f=N(c),g=X(f,b);T(f)&&(f=S());d=W(d,f);a=W(a,Q(g))}return d}var Kb=1,Lb=2,Gb=3,Hb=4,Jb=5,Nb=6;
function Qb(a,b){this.g=128;this.h=void 0!==zb.Uint8Array?new Uint8Array(128):Array(128);this.j=this.f=0;this.c=[];this.l=a;this.s=[];this.o=Rb(b);this.i=!1;this.j=this.f=0;a=this.o;b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];a=c}else a=[];this.c=a;this.i=!1}Cb(Qb,function(){this.g=-1});for(var Sb=[],Tb=0;127>Tb;Tb++)Sb[Tb]=0;var Ub=function(a){return Array.prototype.concat.apply(Array.prototype,arguments)}([128],Sb);
function Vb(a,b,c){c=void 0!==c?c:b.length;if(a.i)throw Error("this hasher needs to be reset");var d=a.f;if("string"==typeof b)for(var e=0;e<c;e++){var f=b.charCodeAt(e);if(255<f)throw Error("Characters must be in range [0,255]");a.h[d++]=f;d==a.g&&(Wb(a),d=0)}else if(e=Bb(b),"array"==e||"object"==e&&"number"==typeof b.length)for(e=0;e<c;e++){f=b[e];if("number"!=typeof f||0>f||255<f||f!=(f|0))throw Error("message must be a byte array");a.h[d++]=f;d==a.g&&(Wb(a),d=0)}else throw Error("message must be string or array");
a.f=d;a.j+=c}
function Wb(a){for(var b=a.h,c=a.s,d=0;16>d;d++){var e=8*d;c[d]=new K(b[e+4]<<24|b[e+5]<<16|b[e+6]<<8|b[e+7],b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3])}for(d=16;80>d;d++){var e=c[d-15],b=e.b,e=e.a,f=c[d-2],g=f.b,f=f.a;c[d]=a.m(c[d-16],c[d-7],new K(b>>>1^e<<31^b>>>8^e<<24^b>>>7^e<<25,e>>>1^b<<31^e>>>8^b<<24^e>>>7),new K(g>>>19^f<<13^f>>>29^g<<3^g>>>6^f<<26,f>>>19^g<<13^g>>>29^f<<3^f>>>6))}for(var b=a.c[0],e=a.c[1],g=a.c[2],f=a.c[3],k=a.c[4],h=a.c[5],l=a.c[6],q=a.c[7],d=0;80>d;d++)var p=b.b,t=b.a,p=W(new K(p>>>
28^t<<4^t>>>2^p<<30^t>>>7^p<<25,t>>>28^p<<4^p>>>2^t<<30^p>>>7^t<<25),new K(b.b&e.b|e.b&g.b|b.b&g.b,b.a&e.a|e.a&g.a|b.a&g.a)),t=k.b,A=k.a,lb=k.b,mb=k.a,t=a.m(q,new K(t>>>14^A<<18^t>>>18^A<<14^A>>>9^t<<23,A>>>14^t<<18^A>>>18^t<<14^t>>>9^A<<23),new K(lb&h.b|~lb&l.b,mb&h.a|~mb&l.a),Xb[d],c[d]),q=l,l=h,h=k,k=W(f,t),f=g,g=e,e=b,b=W(t,p);a.c[0]=W(a.c[0],b);a.c[1]=W(a.c[1],e);a.c[2]=W(a.c[2],g);a.c[3]=W(a.c[3],f);a.c[4]=W(a.c[4],k);a.c[5]=W(a.c[5],h);a.c[6]=W(a.c[6],l);a.c[7]=W(a.c[7],q)}
Qb.prototype.m=function(a,b,c){for(var d=(a.b^2147483648)+(b.b^2147483648),e=a.a+b.a,f=arguments.length-1;2<=f;--f)d+=arguments[f].b^2147483648,e+=arguments[f].a;arguments.length&1&&(d+=2147483648);e+=arguments.length>>1;e+=Math.floor(d/4294967296);return new K(d,e)};function Rb(a){for(var b=[],c=0;c<a.length;c+=2)b.push(new K(a[c+1],a[c]));return b}
var Xb=Rb([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,
1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,
1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,
289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function Yb(){Qb.call(this,6,Zb)}Cb(Yb,Qb);var Zb=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428],$b=null,ac=null;
Ab("ampBase64",function(a){if(!$b){$b={};ac={};for(var b=0;65>b;b++)$b[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b),ac[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(b)}for(var b=ac,c=[],d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,g=f?a[d+1]:0,k=d+2<a.length,h=k?a[d+2]:0,l=e>>2,e=(e&3)<<4|g>>4,g=(g&15)<<2|h>>6,h=h&63;k||(h=64,f||(g=64));c.push(b[l],b[e],b[g],b[h])}return c.join("")});
Ab("ampSha384Digest",function(a){var b=new Yb;Vb(b,a);if(b.i)throw Error("this hasher needs to be reset");var c=8*b.j;112>b.f?Vb(b,Ub,112-b.f):Vb(b,Ub,b.g-b.f+112);for(a=127;112<=a;a--)b.h[a]=c&255,c/=256;Wb(b);var c=0,d=Array(8*b.l);for(a=0;a<b.l;a++){for(var e=b.c[a],f=e.a,e=e.b,g=24;0<=g;g-=8)d[c++]=f>>g&255;for(g=24;0<=g;g-=8)d[c++]=e>>g&255}b.i=!0;return d});function bc(a){this.wa=a.crypto?a.crypto.subtle||a.crypto.webkitSubtle||null:null}bc.prototype.sha384=function(a){if(this.wa)try{return this.wa.digest({name:"SHA-384"},a instanceof Uint8Array?a:Ha(a)).then(function(a){return[].slice.call(new Uint8Array(a))},function(b){b.message&&0>b.message.indexOf("secure origin")&&v().error("Crypto","SubtleCrypto failed, fallback to closure lib.",b);return ampSha384Digest(a)})}catch(b){v().error("Crypto","SubtleCrypto failed, fallback to closure lib.",b)}return Promise.resolve(ampSha384Digest(a))};
bc.prototype.sha384Base64=function(a){return this.sha384(a).then(function(a){return ampBase64(a)})};bc.prototype.uniform=function(a){return this.sha384(a).then(function(a){for(var c=0,d=2;0<=d;d--)c=(c+a[d])/256;return c})};function cc(a,b,c){this.win=a;this.A=b;this.ja=c;this.U=x(ua(this.win.location)).origin;this.V=null}m=cc.prototype;m.ea=function(){dc(this);return this};m.get=function(a){return ec(this).then(function(b){return b.get(a)})};m.set=function(a,b){return fc(this,function(c){return c.set(a,b)})};m.remove=function(a){return fc(this,function(b){return b.remove(a)})};
function ec(a){a.V||(a.V=a.ja.loadBlob(a.U).then(function(a){return a?JSON.parse(atob(a)):{}}).catch(function(a){v().error("Storage","Failed to load store: ",a);return{}}).then(function(a){return new gc(a)}));return a.V}function fc(a,b){return ec(a).then(function(c){b(c);c=btoa(JSON.stringify(c.obj));return a.ja.saveBlob(a.U,c)}).then(a.Ca.bind(a))}function dc(a){a.A.onBroadcast(function(b){"amp-storage-reset"==b.type&&b.origin==a.U&&(a.V=null)})}
m.Ca=function(){this.A.broadcast({type:"amp-storage-reset",origin:this.U})};function gc(a,b){this.obj=Ka(a);this.Ha=b||8;this.D=this.obj.vv||Object.create(null);this.obj.vv||(this.obj.vv=this.D)}gc.prototype.get=function(a){return(a=this.D[a])?a.v:void 0};
gc.prototype.set=function(a,b){void 0!==this.D[a]?(a=this.D[a],a.v=b,a.t=Date.now()):this.D[a]={v:b,t:Date.now()};var c=Object.keys(this.D);if(c.length>this.Ha){var d=Infinity,e=null;for(b=0;b<c.length;b++)a=this.D[c[b]],a.t<d&&(e=c[b],d=a.t);e&&delete this.D[e]}};gc.prototype.remove=function(a){delete this.D[a]};function hc(a){this.win=a;(this.ba=!!this.win.localStorage)||v().error("Storage","localStorage not supported.")}
hc.prototype.loadBlob=function(a){var b=this;return new Promise(function(c){b.ba?c(b.win.localStorage.getItem("amp-store:"+a)):c(null)})};hc.prototype.saveBlob=function(a,b){var c=this;return new Promise(function(d){c.ba&&c.win.localStorage.setItem("amp-store:"+a,b);d()})};function ic(a){this.A=a}ic.prototype.loadBlob=function(a){return this.A.sendMessage("loadStore",{origin:a},!0).then(function(a){return a.blob})};
ic.prototype.saveBlob=function(a,b){return this.A.sendMessage("saveStore",{origin:a,blob:b},!0)};function jc(a){var b=new Image;b.src=a;b.width=1;b.height=1;Oa(b).then(function(){}).catch(function(){u().warn("amp-analytics.Transport","Response unparseable or failed to send image request",a)})}function kc(a,b){if(!a.XMLHttpRequest)return!1;var c=new a.XMLHttpRequest;if(!("withCredentials"in c))return!1;c.open("POST",b,!0);c.withCredentials=!0;c.setRequestHeader("Content-Type","text/plain");c.onreadystatechange=function(){};c.send("");return!0}
function lc(a,b){sa(b);var c=a.document.createElement("iframe");c.style.display="none";c.onload=c.onerror=function(){C(a).delay(function(){var a=c;a.parentElement&&a.parentElement.removeChild(a)},5E3)};u().assert(x(b).origin!=x(a.location.href).origin,"Origin of iframe request must not be equal to the document origin. See https://github.com/ampproject/amphtml/blob/master/spec/amp-iframe-origin-policy.md for details.");c.setAttribute("amp-analytics","");c.setAttribute("sandbox","allow-scripts allow-same-origin");
c.src=b;a.document.body.appendChild(c)};(function(a){return y(a,"activity",Va)})(AMP.win);(function(a){return y(a,"cid",nb)})(AMP.win);(function(a){return y(a,"crypto",bc)})(AMP.win);(function(a){return Aa(a,function(){var b=z(a),c=parseInt(b.getParam("storage"),10),d=c?new ic(b):new hc(a);return(new cc(a,b,d)).ea()})})(AMP.win);(function(a){return y(a,"visibility",F)})(AMP.win);kb(AMP.win);function mc(a){AMP.BaseElement.apply(this,arguments)}ba(mc,AMP.BaseElement);m=mc.prototype;m.getPriority=function(){return 1};m.isAlwaysFixed=function(){return!0};
m.isLayoutSupported=function(){return!0};m.createdCallback=function(){this.sa=D};m.buildCallback=function(){var a=this;this.element.setAttribute("aria-hidden","true");this.oa=this.element.getAttribute("data-consent-notification-id");this.pa=Promise.resolve();null!=this.oa&&(this.pa=Fa(this.win,"userNotificationManager","amp-user-notification").then(function(b){return b.get(a.oa)}))};
m.layoutCallback=function(){var a=this.element,b=!1;void 0===b&&(b="none"==a.style.display);a.style.display=b?"":"none";this.Ra=null;this.L={};this.remoteConfig={};return this.pa.then(this.Da.bind(this)).then(this.Ja.bind(this))};
m.Ja=function(){var a=this;this.w=nc(this);if(oc(this))return Y(this),Promise.resolve();pc(this);if(!this.w.triggers)return u().error(Y(this),"No triggers were found in the config. No analytics data will be sent."),Promise.resolve();qc(this,this.w.extraUrlParams,this.w.extraUrlParamsReplaceMap);var b=[],c={},d;for(d in this.w.triggers){if(this.w.triggers.hasOwnProperty(d)){c.trigger=this.w.triggers[d];if(!c.trigger){u().error(Y(this),"Trigger should be an object: ",d);continue}if(!c.trigger.on||!c.trigger.request){u().error(Y(this),
'"on" and "request" attributes are required for data to be collected.');continue}qc(this,c.trigger.extraUrlParams,this.w.extraUrlParamsReplaceMap);b.push(rc(this,c.trigger).then(function(b){return function(c){if(c){b.trigger.selector&&(b.trigger.selector=sc(a,b.trigger.selector,b.trigger,void 0,void 0,!1));c=b.trigger;var d=a.Ea.bind(a,b.trigger);kb(a.win).addListener(c,d)}}}(c)))}c={trigger:c.trigger}}return Promise.all(b)};
function qc(a,b,c){if(b&&c){var d=0,e;for(e in c){if(16<++d){u().error(Y(a),"More than 16 extraUrlParamsReplaceMap rules aren't allowed; Skipping the rest");break}for(var f in b){var g=f.replace(e,c[e]);if(f!=g){var k=b[f];delete b[f];b[g]=k}}}}}
m.Da=function(){var a=this,b=this.element.getAttribute("config");if(!b)return Promise.resolve();sa(b);Y(this);var c={requireAmpResponseSourceOrigin:!0};this.element.hasAttribute("data-credentials")&&(c.credentials=this.element.getAttribute("data-credentials"));var d=this.win;return d.services["url-replace"].obj.expand(b).then(function(a){b=a;return d.services.xhr.obj.fetchJson(b,c)}).then(function(b){a.Ka=b;Y(a)},function(c){u().error(Y(a),"Error loading remote config: ",b,c)})};
function nc(a){var b=a.getInlineConfigNoInline(),c={vars:{requestCount:0}},d=a.sa["default"]||{},e=a.sa[a.element.getAttribute("type")]||{};Z(a,d,c);Z(a,e,c,!0);Z(a,b,c);Z(a,a.Ka,c);return c}
m.getInlineConfigNoInline=function(){var a={};try{var b=this.element.children;if(1==b.length){var c=b[0];"SCRIPT"==c.tagName&&"APPLICATION/JSON"==c.getAttribute("type").toUpperCase()?a=JSON.parse(b[0].textContent):u().error(Y(this),'The analytics config should be put in a <script> tag with type="application/json"')}else 1<b.length&&u().error(Y(this),"The tag should contain only one <script> child.")}catch(d){u().error(Y(this),"Analytics config could not be parsed. Is it in a valid JSON format?",d)}return a};
function oc(a){if(!a.w.optout)return!1;var b=a.w.optout.split(".");a=a.win;for(var c=0;c<b.length;c++){if(!a)return!1;a=a[b[c]]}return a()}function pc(a){var b={};if(a.w&&a.w.requests){for(var c in a.w.requests)a.w.requests.hasOwnProperty(c)&&(b[c]=a.w.requests[c]);a.L=b;for(var d in a.L)a.L[d]=na(a.L[d],function(b){return a.L[b]||"${"+b+"}"},5)}else v().error(Y(a),"No request strings defined. Analytics data will not be sent from this page.")}
m.Ea=function(a,b){var c=this,d=this.L[a.request];if(!d)return u().error(Y(this),"Ignoring event. Request string not found: ",a.request),Promise.resolve();if(this.w.extraUrlParams||a.extraUrlParams){var e={};Object.assign(e,this.w.extraUrlParams,a.extraUrlParams);if(0<=d.indexOf("${extraUrlParams}"))var f=ra("",e).substr(1),d=d.replace("${extraUrlParams}",f);else d=ra(d,e)}this.w.vars.requestCount++;d=sc(this,d,a,b);return this.win.services["url-replace"].obj.expand(d).then(function(b){var d=a;if(b)if(d.iframePing)u().assert("visible"==
d.on,"iframePing is only available on page view requests."),lc(c.win,b);else{var d=c.win,e=c.w.transport||{};sa(b);e.beacon&&d.navigator.sendBeacon&&d.navigator.sendBeacon(b,"")||e.xhrpost&&kc(d,b)||(e.image?jc(b):u().warn("amp-analytics.Transport","Failed to send request",b,e))}else u().error(Y(c),"Request not sent. Contents empty.");return b})};
function rc(a,b){var c=b.sampleSpec,d=Promise.resolve(!0);if(!c)return d;if(!c.sampleOn)return console.error(Y(a),"Invalid sampleOn value."),d;var e=parseFloat(c.threshold);if(0<=e&&100>=e){b=sc(a,c.sampleOn,b);var f=a.win.services["url-replace"].obj.expand(b),g=I(a.win);return Promise.all([f,g]).then(function(a){return a[1].uniform(a[0])}).then(function(a){return 100*a<c.threshold})}console.error(Y(a),"Invalid threshold for sampling.");return d}
function sc(a,b,c,d,e,f){e=void 0===e?2:e;f=void 0===f?!0:f;return 0>e?(u().error("Maximum depth reached while expanding variables. Please ensure that the variables are not recursive."),b):na(b,function(b){var k=b.match(/([^(]*)(\([^)]*\))?/),h=k[1];b=k[2]||"";var l=d&&d.vars&&d.vars[h]||c.vars&&c.vars[h]||a.w.vars&&a.w.vars[h]||"";"string"==typeof l&&(l=sc(a,l,c,d,e-1));f?(h=l,h=Array.isArray(h)?h.map(encodeURIComponent).join(","):encodeURIComponent(h)):h=l;return h+b})}
function Y(a){return"AmpAnalytics "+(a.element.getAttribute("id")||"<unknown id>")}function Z(a,b,c,d){if(null===c||void 0===c)c={};for(var e in b)u().assert(d||"iframePing"!=e,"iframePing config is only available to vendor config."),b.hasOwnProperty(e)&&(Array.isArray(b[e])?(Array.isArray(c[e])||(c[e]=[]),c[e]=Z(a,b[e],c[e],d)):ka(b[e])?(ka(c[e])||(c[e]={}),c[e]=Z(a,b[e],c[e],d)):c[e]=b[e]);return c}AMP.registerElement("amp-analytics",mc);
})});
//# sourceMappingURL=amp-analytics-0.1.js.map
